<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Secure Blog Publishing API: Lessons Learned and Setup</title>
  <meta name="description" content="Secure Blog Publishing API: Lessons Learned and Setup" />
  <style>
    body { font-family: Georgia, serif; padding: 2rem; max-width: 800px; margin: auto; background: #fff; color: #333; }
    h1 { font-size: 2em; color: #007acc; }
    p { line-height: 1.6; }
    a { color: #007acc; text-decoration: none; }
  </style>
</head>
<body>
  <h1>Secure Blog Publishing API: Lessons Learned and Setup</h1>
  <p><strong>Date:</strong> 2025-06-01</p>
  <p>Today marked a big milestone in automating my personal blog: I successfully implemented a <strong>secure API-based publishing workflow</strong> that allows trusted services (like ChatGPT or custom tools) to post new blog entries to my static site � all while keeping GitHub access safe and private.</p><h2>? What I Built</h2><ul><li>Azure Static Web App at <code>brian-strickland.com</code></li><li>Azure Function <code>/api/new-blog-post</code> with <ul><li><code>x-api-key</code> header security</li><li>GitHub commit using token from environment</li></ul></li><li>Flexible post submission via JSON</li></ul><pre>{
  "title": "My Blog Title",
  "slug": "my-blog-title",
  "date": "2025-06-01",
  "content": "<p>Post content here</p>"
}</pre><h2>?? Challenges and Fixes</h2><ol><li><strong>GitHub Token Not Set</strong><br>?? Fixed by correctly setting <code>AI_BLOG_GITHUB_TOKEN</code> in Azure Function config.</li><li><strong>Missing API Key Handling</strong><br>?? Secured <code>x-api-key</code> in <code>staticwebapp.config.json</code>.</li><li><strong>Oryx Build Warnings</strong><br>?? Ignored � static HTML already built.</li><li><strong>Security</strong><br>? Tokens in secrets; ? ChatGPT can�t post directly � and that�s good.</li></ol><h2>? Lessons Learned</h2><ul><li>Secure API endpoints using config and headers</li><li>Leverage GitHub API with serverless Azure Functions</li><li>Separate content creation and commit logic cleanly</li><li>Say �Post it!� and trust the process</li></ul><h2>? What�s Next?</h2><p>Phase 2: Automate post scheduling with queues and triggers. Let�s go!</p>
</body>
</html>